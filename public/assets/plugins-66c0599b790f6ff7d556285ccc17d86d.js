// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
function StickyScroller(a,b){var c=this,d=$(a).css("top"),e=$(a).css("left"),f=$(a).css("right"),g=0,h=0,i={start:0,end:1e3,interval:400,margin:parseInt(d,10),range:400},j=jQuery.extend(i,b);a=$(a),j.index=0,j.oldIndex=0,GetSet.getters({scope:c,obj:j});var k={};k.newIndex=function(){},k.limbo=function(){},k.scroll=function(){},GetSet.setters({scope:this,prefix:"on",obj:k}),this.distanceFrom=function(a){h=$(window).scrollTop();var b=a*j.interval,c=a*j.interval+j.range,d=Math.abs(h-b),e=Math.abs(h-c);return d<e?d:e},this.closestIndex=function(){if(j.index===0)return 1;var a=this.distanceFrom(j.index-1),b=this.distanceFrom(j.index+1);return a<=b?j.index-1:j.index+1};var l=function(){h=$(window).scrollTop()+j.margin,h>j.start&&h<j.end?(tempIndex=Math.floor((h-j.start)/j.interval),tempIndex!==j.index&&(j.oldIndex=j.index,j.index=tempIndex)):h>=j.end?(j.oldIndex=j.index,j.index=Math.floor((j.end-j.start)/j.interval)):(j.oldIndex=j.index,j.index=0)};this.firstIndex=function(){return 0},this.lastIndex=function(){return Math.floor((j.end-j.start)/j.interval)},this.inRange=function(){var a=$(window).scrollTop()-j.start+j.margin,b=a>=j.index*j.interval&&a<=j.index*j.interval+j.range;return b};var m=$('<div id="scrollcontainer">').css({width:a.width(),height:a.height(),position:"absolute"});a.wrap(m),$(window).scroll(function(){g=$(window).scrollTop()+j.margin,l(),g<j.start?($(a).css({position:"absolute",top:0,left:0,right:0}),$("#scrollcontainer").css({position:"absolute",top:j.start,left:e,right:f})):g>j.end?($(a).css({position:"absolute",top:0,left:0,right:0}),$("#scrollcontainer").css({position:"absolute",top:j.end,left:e,right:f})):$(a).css({position:"fixed",top:j.margin,left:e,right:f}),j.oldIndex!==j.index&&k.newIndex(j.index),!c.inRange()&&g>j.start&&g<j.end&&k.limbo(j.index),k.scroll(j.index)})}window.log=function(){log.history=log.history||[],log.history.push(arguments);if(this.console){var b=arguments,c;b.callee=b.callee.caller,c=[].slice.call(b),typeof console.log=="object"?log.apply.call(console.log,console,c):console.log.apply(console,c)}},function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;!!(d=c.pop());)a[d]=a[d]||b}(function(){try{return console.log(),window.console}catch(a){return window.console={}}}()),function(a){"use strict";var b,c,d;a.extend({roundaboutShapes:{def:"lazySusan",lazySusan:function(a,b,c){return{x:Math.sin(a+b),y:Math.sin(a+3*Math.PI/2+b)/8*c,z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}}}}),b={bearing:0,tilt:0,minZ:100,maxZ:280,minOpacity:.4,maxOpacity:1,minScale:.4,maxScale:1,duration:600,btnNext:null,btnNextCallback:function(){},btnPrev:null,btnPrevCallback:function(){},btnToggleAutoplay:null,btnStartAutoplay:null,btnStopAutoplay:null,easing:"swing",clickToFocus:!0,clickToFocusCallback:function(){},focusBearing:0,shape:"lazySusan",debug:!1,childSelector:"li",startingChild:null,reflect:!1,floatComparisonThreshold:.001,autoplay:!1,autoplayDuration:1e3,autoplayPauseOnHover:!1,autoplayCallback:function(){},autoplayInitialDelay:0,enableDrag:!1,dropDuration:600,dropEasing:"swing",dropAnimateTo:"nearest",dropCallback:function(){},dragAxis:"x",dragFactor:4,triggerFocusEvents:!0,triggerBlurEvents:!0,responsive:!1},c={autoplayInterval:null,autoplayIsRunning:!1,autoplayStartTimeout:null,animating:!1,childInFocus:-1,touchMoveStartPosition:null,stopAnimation:!1,lastAnimationStep:!1},d={init:function(e,f,g){var h,i=(new Date).getTime();return e=typeof e=="object"?e:{},f=a.isFunction(f)?f:function(){},f=a.isFunction(e)?e:f,h=a.extend({},b,e,c),this.each(function(){var b=a(this),c=b.children(h.childSelector).length,e=360/c,i=h.startingChild&&h.startingChild>c-1?c-1:h.startingChild,j=h.startingChild===null?h.bearing:360-i*e,k=b.css("position")!=="static"?b.css("position"):"relative";b.css({padding:0,position:k}).addClass("roundabout-holder").data("roundabout",a.extend({},h,{startingChild:i,bearing:j,oppositeOfFocusBearing:d.normalize.apply(null,[h.focusBearing-180]),dragBearing:j,period:e})),g?b.unbind(".roundabout").children(h.childSelector).unbind(".roundabout"):h.responsive&&a(window).bind("resize",function(){d.relayoutChildren.apply(b)}),h.clickToFocus&&b.children(h.childSelector).each(function(c){a(this).bind("click.roundabout",function(){var e=d.getPlacement.apply(b,[c]);if(!d.isInFocus.apply(b,[e]))return d.stopAnimation.apply(a(this)),b.data("roundabout").animating||d.animateBearingToFocus.apply(b,[e,b.data("roundabout").clickToFocusCallback]),!1})}),h.btnNext&&a(h.btnNext).bind("click.roundabout",function(){return b.data("roundabout").animating||d.animateToNextChild.apply(b,[b.data("roundabout").btnNextCallback]),!1}),h.btnPrev&&a(h.btnPrev).bind("click.roundabout",function(){return d.animateToPreviousChild.apply(b,[b.data("roundabout").btnPrevCallback]),!1}),h.btnToggleAutoplay&&a(h.btnToggleAutoplay).bind("click.roundabout",function(){return d.toggleAutoplay.apply(b),!1}),h.btnStartAutoplay&&a(h.btnStartAutoplay).bind("click.roundabout",function(){return d.startAutoplay.apply(b),!1}),h.btnStopAutoplay&&a(h.btnStopAutoplay).bind("click.roundabout",function(){return d.stopAutoplay.apply(b),!1}),h.autoplayPauseOnHover&&b.bind("mouseenter.roundabout.autoplay",function(){d.stopAutoplay.apply(b,[!0])}).bind("mouseleave.roundabout.autoplay",function(){d.startAutoplay.apply(b)}),h.enableDrag&&(a.isFunction(b.drag)?a.isFunction(b.drop)?b.drag(function(a,c){var e=b.data("roundabout"),f=e.dragAxis.toLowerCase()==="x"?"deltaX":"deltaY";d.stopAnimation.apply(b),d.setBearing.apply(b,[e.dragBearing+c[f]/e.dragFactor])}).drop(function(a){var c=b.data("roundabout"),e=d.getAnimateToMethod(c.dropAnimateTo);d.allowAnimation.apply(b),d[e].apply(b,[c.dropDuration,c.dropEasing,c.dropCallback]),c.dragBearing=c.period*d.getNearestChild.apply(b)}):h.debug&&alert("You do not have the drop plugin loaded."):h.debug&&alert("You do not have the drag plugin loaded."),b.each(function(){var b=a(this).get(0),c=a(this).data("roundabout"),e=c.dragAxis.toLowerCase()==="x"?"pageX":"pageY",f=d.getAnimateToMethod(c.dropAnimateTo);b.addEventListener&&(b.addEventListener("touchstart",function(a){c.touchMoveStartPosition=a.touches[0][e]},!1),b.addEventListener("touchmove",function(b){var f=(b.touches[0][e]-c.touchMoveStartPosition)/c.dragFactor;b.preventDefault(),d.stopAnimation.apply(a(this)),d.setBearing.apply(a(this),[c.dragBearing+f])},!1),b.addEventListener("touchend",function(b){b.preventDefault(),d.allowAnimation.apply(a(this)),f=d.getAnimateToMethod(c.dropAnimateTo),d[f].apply(a(this),[c.dropDuration,c.dropEasing,c.dropCallback]),c.dragBearing=c.period*d.getNearestChild.apply(a(this))},!1))})),d.initChildren.apply(b,[f,g])})},initChildren:function(b,c){var e=a(this),f=e.data("roundabout");return b=b||function(){},e.children(f.childSelector).each(function(b){var f,g,h,i=d.getPlacement.apply(e,[b]);c&&a(this).data("roundabout")&&(f=a(this).data("roundabout").startWidth,g=a(this).data("roundabout").startHeight,h=a(this).data("roundabout").startFontSize),a(this).addClass("roundabout-moveable-item").css("position","absolute"),a(this).data("roundabout",{startWidth:f||a(this).width(),startHeight:g||a(this).height(),startFontSize:h||parseInt(a(this).css("font-size"),10),degrees:i,backDegrees:d.normalize.apply(null,[i-180]),childNumber:b,currentScale:1,parent:e})}),d.updateChildren.apply(e),f.autoplay&&(f.autoplayStartTimeout=setTimeout(function(){d.startAutoplay.apply(e)},f.autoplayInitialDelay)),e.trigger("ready"),b.apply(e),e},updateChildren:function(){return this.each(function(){var b=a(this),c=b.data("roundabout"),e=-1,f={bearing:c.bearing,tilt:c.tilt,stage:{width:Math.floor(a(this).width()*.9),height:Math.floor(a(this).height()*.9)},animating:c.animating,inFocus:c.childInFocus,focusBearingRadian:d.degToRad.apply(null,[c.focusBearing]),shape:a.roundaboutShapes[c.shape]||a.roundaboutShapes[a.roundaboutShapes.def]};f.midStage={width:f.stage.width/2,height:f.stage.height/2},f.nudge={width:f.midStage.width+f.stage.width*.05,height:f.midStage.height+f.stage.height*.05},f.zValues={min:c.minZ,max:c.maxZ,diff:c.maxZ-c.minZ},f.opacity={min:c.minOpacity,max:c.maxOpacity,diff:c.maxOpacity-c.minOpacity},f.scale={min:c.minScale,max:c.maxScale,diff:c.maxScale-c.minScale},b.children(c.childSelector).each(function(g){d.updateChild.apply(b,[a(this),f,g,function(){a(this).trigger("ready")}])&&(!f.animating||c.lastAnimationStep)?(e=g,a(this).addClass("roundabout-in-focus")):a(this).removeClass("roundabout-in-focus")}),e!==f.inFocus&&(c.triggerBlurEvents&&b.children(c.childSelector).eq(f.inFocus).trigger("blur"),c.childInFocus=e,c.triggerFocusEvents&&e!==-1&&b.children(c.childSelector).eq(e).trigger("focus")),b.trigger("childrenUpdated")})},updateChild:function(b,c,e,f){var g,h=this,i=a(b),j=i.data("roundabout"),k=[],l=d.degToRad.apply(null,[360-j.degrees+c.bearing]);return f=f||function(){},l=d.normalizeRad.apply(null,[l]),g=c.shape(l,c.focusBearingRadian,c.tilt),g.scale=g.scale>1?1:g.scale,g.adjustedScale=(c.scale.min+c.scale.diff*g.scale).toFixed(4),g.width=(g.adjustedScale*j.startWidth).toFixed(4),g.height=(g.adjustedScale*j.startHeight).toFixed(4),i.css({left:(g.x*c.midStage.width+c.nudge.width-g.width/2).toFixed(0)+"px",top:(g.y*c.midStage.height+c.nudge.height-g.height/2).toFixed(0)+"px",width:g.width+"px",height:g.height+"px",opacity:(c.opacity.min+c.opacity.diff*g.scale).toFixed(2),zIndex:Math.round(c.zValues.min+c.zValues.diff*g.z),fontSize:(g.adjustedScale*j.startFontSize).toFixed(1)+"px"}),j.currentScale=g.adjustedScale,h.data("roundabout").debug&&(k.push('<div style="font-weight: normal; font-size: 10px; padding: 2px; width: '+i.css("width")+'; background-color: #ffc;">'),k.push('<strong style="font-size: 12px; white-space: nowrap;">Child '+e+"</strong><br />"),k.push("<strong>left:</strong> "+i.css("left")+"<br />"),k.push("<strong>top:</strong> "+i.css("top")+"<br />"),k.push("<strong>width:</strong> "+i.css("width")+"<br />"),k.push("<strong>opacity:</strong> "+i.css("opacity")+"<br />"),k.push("<strong>height:</strong> "+i.css("height")+"<br />"),k.push("<strong>z-index:</strong> "+i.css("z-index")+"<br />"),k.push("<strong>font-size:</strong> "+i.css("font-size")+"<br />"),k.push("<strong>scale:</strong> "+i.data("roundabout").currentScale),k.push("</div>"),i.html(k.join(""))),i.trigger("reposition"),f.apply(h),d.isInFocus.apply(h,[j.degrees])},setBearing:function(b,c){return c=c||function(){},b=d.normalize.apply(null,[b]),this.each(function(){var c,e,f,g=a(this),h=g.data("roundabout"),i=h.bearing;h.bearing=b,g.trigger("bearingSet"),d.updateChildren.apply(g),c=Math.abs(i-b);if(!h.animating||c>180)return;c=Math.abs(i-b),g.children(h.childSelector).each(function(c){var e;d.isChildBackDegreesBetween.apply(a(this),[b,i])&&(e=i>b?"Clockwise":"Counterclockwise",a(this).trigger("move"+e+"ThroughBack"))})}),c.apply(this),this},adjustBearing:function(b,c){return c=c||function(){},b===0?this:(this.each(function(){d.setBearing.apply(a(this),[a(this).data("roundabout").bearing+b])}),c.apply(this),this)},setTilt:function(b,c){return c=c||function(){},this.each(function(){a(this).data("roundabout").tilt=b,d.updateChildren.apply(a(this))}),c.apply(this),this},adjustTilt:function(b,c){return c=c||function(){},this.each(function(){d.setTilt.apply(a(this),[a(this).data("roundabout").tilt+b])}),c.apply(this),this},animateToBearing:function(b,c,e,f,g){var h=(new Date).getTime();return g=g||function(){},a.isFunction(f)?(g=f,f=null):a.isFunction(e)?(g=e,e=null):a.isFunction(c)&&(g=c,c=null),this.each(function(){var i,j,k,l=a(this),m=l.data("roundabout"),n=c?c:m.duration,o=e?e:m.easing||"swing";f||(f={timerStart:h,start:m.bearing,totalTime:n}),i=h-f.timerStart;if(m.stopAnimation){d.allowAnimation.apply(l),m.animating=!1;return}i<n?(m.animating||l.trigger("animationStart"),m.animating=!0,typeof a.easing.def=="string"?(j=a.easing[o]||a.easing[a.easing.def],k=j(null,i,f.start,b-f.start,f.totalTime)):k=a.easing[o](i/f.totalTime,i,f.start,b-f.start,f.totalTime),d.compareVersions.apply(null,[a().jquery,"1.7.2"])>=0&&(k=f.start+(b-f.start)*k),k=d.normalize.apply(null,[k]),m.dragBearing=k,d.setBearing.apply(l,[k,function(){setTimeout(function(){d.animateToBearing.apply(l,[b,n,o,f,g])},0)}])):(m.lastAnimationStep=!0,b=d.normalize.apply(null,[b]),d.setBearing.apply(l,[b,function(){l.trigger("animationEnd")}]),m.animating=!1,m.lastAnimationStep=!1,m.dragBearing=b,g.apply(l))}),this},animateToNearbyChild:function(b,c){var e=b[0],f=b[1],g=b[2]||function(){};return a.isFunction(f)?(g=f,f=null):a.isFunction(e)&&(g=e,e=null),this.each(function(){var b,h,i=a(this),j=i.data("roundabout"),k=j.reflect?j.bearing:j.bearing%360,l=i.children(j.childSelector).length;if(!j.animating)if(j.reflect&&c==="previous"||!j.reflect&&c==="next"){k=Math.abs(k)<j.floatComparisonThreshold?360:k;for(b=0;b<l;b+=1){h={lower:j.period*b,upper:j.period*(b+1)},h.upper=b===l-1?360:h.upper;if(k<=Math.ceil(h.upper)&&k>=Math.floor(h.lower)){l===2&&k===360?d.animateToDelta.apply(i,[-180,e,f,g]):d.animateBearingToFocus.apply(i,[h.lower,e,f,g]);break}}}else{k=Math.abs(k)<j.floatComparisonThreshold||360-Math.abs(k)<j.floatComparisonThreshold?0:k;for(b=l-1;b>=0;b-=1){h={lower:j.period*b,upper:j.period*(b+1)},h.upper=b===l-1?360:h.upper;if(k>=Math.floor(h.lower)&&k<Math.ceil(h.upper)){l===2&&k===360?d.animateToDelta.apply(i,[180,e,f,g]):d.animateBearingToFocus.apply(i,[h.upper,e,f,g]);break}}}})},animateToNearestChild:function(b,c,e){return e=e||function(){},a.isFunction(c)?(e=c,c=null):a.isFunction(b)&&(e=b,b=null),this.each(function(){var f=d.getNearestChild.apply(a(this));d.animateToChild.apply(a(this),[f,b,c,e])})},animateToChild:function(b,c,e,f){return f=f||function(){},a.isFunction(e)?(f=e,e=null):a.isFunction(c)&&(f=c,c=null),this.each(function(){var g,h=a(this),i=h.data("roundabout");i.childInFocus!==b&&!i.animating&&(g=h.children(i.childSelector).eq(b),d.animateBearingToFocus.apply(h,[g.data("roundabout").degrees,c,e,f]))})},animateToNextChild:function(a,b,c){return d.animateToNearbyChild.apply(this,[arguments,"next"])},animateToPreviousChild:function(a,b,c){return d.animateToNearbyChild.apply(this,[arguments,"previous"])},animateToDelta:function(b,c,e,f){return f=f||function(){},a.isFunction(e)?(f=e,e=null):a.isFunction(c)&&(f=c,c=null),this.each(function(){var g=a(this).data("roundabout").bearing+b;d.animateToBearing.apply(a(this),[g,c,e,f])})},animateBearingToFocus:function(b,c,e,f){return f=f||function(){},a.isFunction(e)?(f=e,e=null):a.isFunction(c)&&(f=c,c=null),this.each(function(){var g=a(this).data("roundabout").bearing-b;g=Math.abs(360-g)<Math.abs(g)?360-g:-g,g=g>180?-(360-g):g,g!==0&&d.animateToDelta.apply(a(this),[g,c,e,f])})},stopAnimation:function(){return this.each(function(){a(this).data("roundabout").stopAnimation=!0})},allowAnimation:function(){return this.each(function(){a(this).data("roundabout").stopAnimation=!1})},startAutoplay:function(b){return this.each(function(){var c=a(this),e=c.data("roundabout");b=b||e.autoplayCallback||function(){},clearInterval(e.autoplayInterval),e.autoplayInterval=setInterval(function(){d.animateToNextChild.apply(c,[b])},e.autoplayDuration),e.autoplayIsRunning=!0,c.trigger("autoplayStart")})},stopAutoplay:function(b){return this.each(function(){clearInterval(a(this).data("roundabout").autoplayInterval),a(this).data("roundabout").autoplayInterval=null,a(this).data("roundabout").autoplayIsRunning=!1,b||a(this).unbind(".autoplay"),a(this).trigger("autoplayStop")})},toggleAutoplay:function(b){return this.each(function(){var c=a(this),e=c.data("roundabout");b=b||e.autoplayCallback||function(){},d.isAutoplaying.apply(a(this))?d.stopAutoplay.apply(a(this),[b]):d.startAutoplay.apply(a(this),[b])})},isAutoplaying:function(){return this.data("roundabout").autoplayIsRunning},changeAutoplayDuration:function(b){return this.each(function(){var c=a(this),e=c.data("roundabout");e.autoplayDuration=b,d.isAutoplaying.apply(c)&&(d.stopAutoplay.apply(c),setTimeout(function(){d.startAutoplay.apply(c)},10))})},normalize:function(a){var b=a%360;return b<0?360+b:b},normalizeRad:function(a){while(a<0)a+=Math.PI*2;while(a>Math.PI*2)a-=Math.PI*2;return a},isChildBackDegreesBetween:function(b,c){var d=a(this).data("roundabout").backDegrees;return b>c?d>=c&&d<b:d<c&&d>=b},getAnimateToMethod:function(a){return a=a.toLowerCase(),a==="next"?"animateToNextChild":a==="previous"?"animateToPreviousChild":"animateToNearestChild"},relayoutChildren:function(){return this.each(function(){var b=a(this),c=a.extend({},b.data("roundabout"));c.startingChild=b.data("roundabout").childInFocus,d.init.apply(b,[c,null,!0])})},getNearestChild:function(){var b=a(this),c=b.data("roundabout"),d=b.children(c.childSelector).length;return c.reflect?Math.round(c.bearing/c.period)%d:(d-Math.round(c.bearing/c.period)%d)%d},degToRad:function(a){return d.normalize.apply(null,[a])*Math.PI/180},getPlacement:function(a){var b=this.data("roundabout");return b.reflect?b.period*a:360-b.period*a},isInFocus:function(a){var b,c=this,e=c.data("roundabout"),f=d.normalize.apply(null,[e.bearing]);return a=d.normalize.apply(null,[a]),b=Math.abs(f-a),b<=e.floatComparisonThreshold||b>=360-e.floatComparisonThreshold},getChildInFocus:function(){var b=a(this).data("roundabout");return b.childInFocus>-1?b.childInFocus:!1},compareVersions:function(a,b){var c,d=a.split(/\./i),e=b.split(/\./i),f=d.length>e.length?d.length:e.length;for(c=0;c<=f;c++){if(d[c]&&!e[c]&&parseInt(d[c],10)!==0)return 1;if(e[c]&&!d[c]&&parseInt(e[c],10)!==0)return-1;if(d[c]===e[c])continue;if(d[c]&&e[c])return parseInt(d[c],10)>parseInt(e[c],10)?1:-1}return 0}},a.fn.roundabout=function(b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||a.isFunction(b)||!b)return d.init.apply(this,arguments);a.error("Method "+b+" does not exist for jQuery.roundabout.")}}(jQuery),jQuery.extend(jQuery.roundaboutShapes,{theJuggler:function(a,b,c){return{x:Math.sin(a+b),y:Math.tan(Math.exp(Math.log(a))+b)/(c-1),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},figure8:function(a,b,c){return{x:Math.sin(a*2+b),y:Math.sin(a+Math.PI/2+b)/8*c,z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},waterWheel:function(a,b,c){return{x:Math.sin(a+Math.PI/2+b)/8*c,y:Math.sin(a+b)/(Math.PI/2),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},square:function(a,b,c){var d,e,f;return a<=Math.PI/2?(d=2/Math.PI*a,e=-(2/Math.PI)*a+1,f=-(1/Math.PI)*a+1):a>Math.PI/2&&a<=Math.PI?(d=-(2/Math.PI)*a+2,e=-(2/Math.PI)*a+1,f=-(1/Math.PI)*a+1):a>Math.PI&&a<=3*Math.PI/2?(d=-(2/Math.PI)*a+2,e=2/Math.PI*a-3,f=1/Math.PI*a-1):(d=2/Math.PI*a-4,e=2/Math.PI*a-3,f=1/Math.PI*a-1),{x:d,y:e*c,z:f,scale:f}},conveyorBeltLeft:function(a,b,c){return{x:-Math.cos(a+b),y:Math.cos(a+3*Math.PI/2+b)/8*c,z:(Math.sin(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},conveyorBeltRight:function(a,b,c){return{x:Math.cos(a+b),y:Math.cos(a+3*Math.PI/2+b)/8*c,z:(Math.sin(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},goodbyeCruelWorld:function(a,b,c){return{x:Math.sin(a+b),y:Math.tan(a+3*Math.PI/2+b)/8*(c+.5),z:(Math.sin(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},diagonalRingLeft:function(a,b,c){return{x:Math.sin(a+b),y:-Math.cos(a+Math.tan(Math.cos(b)))/(c+1.5),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},diagonalRingRight:function(a,b,c){return{x:Math.sin(a+b),y:Math.cos(a+Math.tan(Math.cos(b)))/(c+1.5),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},rollerCoaster:function(a,b,c){return{x:Math.sin(a+b),y:Math.sin((2+c)*a),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},tearDrop:function(a,b,c){return{x:Math.sin(a+b),y:-Math.sin(a/2+c)+.35,z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},tickingClock:function(a,b,c){return{x:Math.cos(a+b-Math.PI/2),y:Math.sin(a+b-Math.PI/2),z:Math.cos(a),scale:Math.cos(a)+.5}},flurry:function(a,b,c){return{x:Math.sin(a*3+b),y:Math.cos(a+Math.PI/2+b)/2*c,z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},nowSlide:function(a,b,c){return{x:Math.tan(a*2+b)*.5,y:Math.cos(a*2+c)/6,z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}},risingEssence:function(a,b,c){return{x:Math.sin(a+b),y:Math.tan((2+c)*a),z:(Math.cos(a+b)+1)/2,scale:Math.sin(a+Math.PI/2+b)/2+.5}}}),function(a){a.scrollingParallax=function(b,c){function A(b){typeof b=="string"?g=B(b):(g=a(b),g.css("position",d?"absolute":"fixed"),c.enableVertical&&(o=parseInt(g.css("top"))),c.enableHorizontal&&(x=parseInt(g.css("left"))));if(c.disableIE6Anim&&d)return!1;C(),h&&(c.reverseDirection&&c.enableVertical&&(o+=-1*l,g.css("top",o)),c.reverseDirectionX&&c.enableHorizontal&&(x+=-1*u,g.css("left",x))),f.scroll(function(){D()}),f.resize(function(){C()})}function B(b){var e={display:"block",top:0,left:0,width:c.bgWidth,height:c.bgHeight,zIndex:0};e.position=d?"absolute":"fixed";if(c.bgRepeat){var f=c.appendInFront?a("<div></div>").appendTo(a("body")):a("<div></div>").prependTo(a("body"));e.backgroundRepeat="repeat",e.backgroundImage='url("'+b+'")'}else{var f=c.appendInFront?a("<img />").appendTo(a("body")):a("<img />").prependTo(a("body"));f.attr("src",b)}return f.css(e),h=!0,f}function C(){c.enableVertical&&(i=g.height(),j=f.height(),k=e.height(),l=(c.parallaxHeight||i)-j,l<0&&(c.staticSpeed?l=j-i:l=c.reverseDirection?j-o-i:o,p=!0),d&&!m&&(m=-1*(k-i)),c.loopIt&&(n=parseInt(e.scrollTop()/(p?j:i)))),c.enableHorizontal&&(r=g.width(),s=f.width(),t=e.width(),u=(c.parallaxWidth||r)-s,u<0&&(u=c.staticSpeedX?s-r:c.reverseDirectionX?s-x-r:x,y=!0),d&&!v&&(v=-1*(t-r)),c.loopItX&&(w=parseInt(e.scrollLeft()/(y?s:r)))),D()}function D(){g.queue([]);var b={};if(c.enableVertical){var d=E(!0);b.top=d}if(c.enableHorizontal){var e=E(!1);b.left=e}!a.browser.msie&&(Math.abs(q-d)>100||Math.abs(z-e)>100)?g.animate(b,30):g.css(b),q=d,z=e}function E(a){if(a)var b=e.scrollTop(),f=k,g=j,h=i,q=l,z=n,A=o,q=l,B=p,C=m,D={reverseDirection:c.reverseDirection,staticSpeed:c.staticSpeed,loopIt:c.loopIt,staticScrollLimit:c.staticScrollLimit};else var b=e.scrollLeft(),f=t,g=s,h=r,z=w,A=x,q=u,B=y,C=v,D={reverseDirection:c.reverseDirectionX,staticSpeed:c.staticSpeedX,loopIt:c.loopItX,staticScrollLimit:c.staticScrollLimitX};if(D.staticSpeed){var E=b*D.staticSpeed;E-=q*z}else var G=b/(f-g),E=G*q;return D.reverseDirection||(E*=-1),E+=A,D.staticSpeed&&(E=F(E,a,D,q,B)),B&&D.staticSpeed&&D.loopIt&&(E+=g-h),d&&(E+=b,E=Math.max(parseInt(E),parseInt(C))),E}function F(a,b,c,d,e){if(!c.loopIt)c.staticScrollLimit&&(e?(a<0&&(a=0),a>d&&(a=d)):(a>0&&(a=0),-1*a>d&&(a=-1*d)));else{while(a<d){a+=d;var f=c.reverseDirection?-1:1;b?n+=f:w+=f}while(a>(c.reverseDirection?-1:0)){a-=d;var f=c.reverseDirection?-1:1;b?n-=f:w-=f}}return a}var c=c||{};c.enableVertical=typeof c.enableVertical!="undefined"?c.enableVertical:!0,c.enableVertical&&(c.staticSpeed=c.staticSpeed||!1,c.staticScrollLimit=typeof c.staticScrollLimit!="undefined"?c.staticScrollLimit:!0,c.loopIt=c.loopIt||!1,c.reverseDirection=c.reverseDirection||!1),c.enableHorizontal=c.enableHorizontal||!1,c.enableHorizontal&&(c.staticSpeedX=c.staticSpeedX||!1,c.staticScrollLimitX=typeof c.staticScrollLimitX!="undefined"?c.staticScrollLimitX:!0,c.loopItX=c.loopItX||!1,c.reverseDirectionX=c.reverseDirectionX||!1),c.disableIE6=c.disableIE6||!1,c.disableIE6Anim=typeof c.disableIE6Anim!="undefined"?c.disableIE6Anim:!0,c.bgWidth=c.bgWidth||(c.enableHorizontal?"150%":"100%"),c.bgHeight=c.bgHeight||"150%",c.bgRepeat=c.bgRepeat||!1,c.appendInFront=c.appendInFront||!1,c.parallaxHeight=c.parallaxHeight||!1,c.parallaxWidth=c.parallaxWidth||!1;var d=a.browser.msie&&a.browser.version<7?!0:!1;if(c.disableIE6&&d)return!1;var e=a(document),f=a(window),g,h=!1;if(c.enableVertical)var i,j,k,l,m=0,n=0,o=0,p=!1,q=null;if(c.enableHorizontal)var r,s,t,u,v=0,w=0,x=0,y=!1,z=null;A(b)},a.fn.scrollingParallax=function(b){return this.each(function(){new a.scrollingParallax(this,b)}),this}}(jQuery);var GetSet={};GetSet.override=function(a,b){var c=a;for(var d in b)c[d]||(c[d]=b[d])},GetSet.getFunctions=function(a,b){for(var c in a)a[c].constructor==Function&&(b[c]=a[c])},GetSet.getters=function(a){var b={prefix:"get",camel:!0};GetSet.override(a,b),a.prefix=a.prefix==="none"?"":a.prefix;var c;for(var d in a.obj)a.camel&&a.prefix!=""?c=d.charAt(0).toUpperCase()+d.substr(1):c=d,function(b){a.scope[a.prefix+c]=function(){return a.obj[b]}}(d)},GetSet.setters=function(a){var b={prefix:"set",camel:!0};GetSet.override(a,b),a.prefix=a.prefix==="none"?"":a.prefix;var c;for(var d in a.obj)a.camel&&a.prefix!=""?c=d.charAt(0).toUpperCase()+d.substr(1):c=d,function(b){a.scope[a.prefix+c]=function(c){a.obj[b]=c}}(d)},function(a){a.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:!1,ajaxContentURL:"",countOnlyClass:"",startAtElementId:"",hotSpotScrolling:!0,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"onstart",hotSpotsVisibleTime:5e3,easingAfterHotSpotScrolling:!0,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:!1,mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:!0,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:!1,autoScrollingMode:"",autoScrollingDirection:"endlessloopright",autoScrollingStep:1,autoScrollingInterval:10,scrollToAnimationDuration:1e3,scrollToEasingFunction:"easeOutQuart"},_create:function(){var b=this,c=this.options,d=this.element;d.wrapInner("<div class='"+c.scrollableAreaClass+"'>").wrapInner("<div class='"+c.scrollWrapperClass+"'>"),d.prepend("<div class='"+c.scrollingHotSpotLeftClass+"'></div><div class='"+c.scrollingHotSpotRightClass+"'></div>"),d.data("scrollWrapper",d.find("."+c.scrollWrapperClass)),d.data("scrollingHotSpotRight",d.find("."+c.scrollingHotSpotRightClass)),d.data("scrollingHotSpotLeft",d.find("."+c.scrollingHotSpotLeftClass)),d.data("scrollableArea",d.find("."+c.scrollableAreaClass)),d.data("speedBooster",1),d.data("scrollXPos",0),d.data("hotSpotWidth",d.data("scrollingHotSpotLeft").innerWidth()),d.data("scrollableAreaWidth",0),d.data("startingPosition",0),d.data("rightScrollingInterval",null),d.data("leftScrollingInterval",null),d.data("autoScrollingInterval",null),d.data("hideHotSpotBackgroundsInterval",null),d.data("previousScrollLeft",0),d.data("pingPongDirection","right"),d.data("getNextElementWidth",!0),d.data("swapAt",null),d.data("startAtElementHasNotPassed",!0),d.data("swappedElement",null),d.data("originalElements",d.data("scrollableArea").children(c.countOnlyClass)),d.data("visible",!0),d.data("enabled",!0),d.data("scrollableAreaHeight",d.data("scrollableArea").height()),d.data("scrollerOffset",d.offset()),d.data("initialAjaxContentLoaded",!1),d.data("scrollingHotSpotRight").bind("mousemove",function(a){var b=a.pageX-(this.offsetLeft+d.data("scrollerOffset").left);d.data("scrollXPos",Math.round(b/d.data("hotSpotWidth")*c.hotSpotScrollingStep)),d.data("scrollXPos")===Infinity&&d.data("scrollXPos",0)}),d.data("scrollingHotSpotRight").bind("mouseover",function(){d.data("scrollWrapper").stop(!0,!1),b.stopAutoScrolling(),d.data("rightScrollingInterval",setInterval(function(){d.data("scrollXPos")>0&&d.data("enabled")&&(d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()+d.data("scrollXPos")*d.data("speedBooster")),c.manualContinuousScrolling&&b._checkContinuousSwapRight(),b._showHideHotSpots())},c.hotSpotScrollingInterval)),b._trigger("mouseOverRightHotSpot")}),d.data("scrollingHotSpotRight").bind("mouseout",function(){clearInterval(d.data("rightScrollingInterval")),d.data("scrollXPos",0),c.easingAfterHotSpotScrolling&&d.data("enabled")&&d.data("scrollWrapper").animate({scrollLeft:d.data("scrollWrapper").scrollLeft()+c.easingAfterHotSpotScrollingDistance},{duration:c.easingAfterHotSpotScrollingDuration,easing:c.easingAfterHotSpotScrollingFunction})}),d.data("scrollingHotSpotRight").bind("mousedown",function(){d.data("speedBooster",c.hotSpotMouseDownSpeedBooster)}),a("body").bind("mouseup",function(){d.data("speedBooster",1)}),d.data("scrollingHotSpotLeft").bind("mousemove",function(a){var b=this.offsetLeft+d.data("scrollerOffset").left+d.data("hotSpotWidth")-a.pageX;d.data("scrollXPos",Math.round(b/d.data("hotSpotWidth")*c.hotSpotScrollingStep)),d.data("scrollXPos")===Infinity&&d.data("scrollXPos",0)}),d.data("scrollingHotSpotLeft").bind("mouseover",function(){d.data("scrollWrapper").stop(!0,!1),b.stopAutoScrolling(),d.data("leftScrollingInterval",setInterval(function(){d.data("scrollXPos")>0&&d.data("enabled")&&(d.data("scrollWrapper").scrollLeft(d.data("scrollWrapper").scrollLeft()-d.data("scrollXPos")*d.data("speedBooster")),c.manualContinuousScrolling&&b._checkContinuousSwapLeft(),b._showHideHotSpots())},c.hotSpotScrollingInterval)),b._trigger("mouseOverLeftHotSpot")}),d.data("scrollingHotSpotLeft").bind("mouseout",function(){clearInterval(d.data("leftScrollingInterval")),d.data("scrollXPos",0),c.easingAfterHotSpotScrolling&&d.data("enabled")&&d.data("scrollWrapper").animate({scrollLeft:d.data("scrollWrapper").scrollLeft()-c.easingAfterHotSpotScrollingDistance},{duration:c.easingAfterHotSpotScrollingDuration,easing:c.easingAfterHotSpotScrollingFunction})}),d.data("scrollingHotSpotLeft").bind("mousedown",function(){d.data("speedBooster",c.hotSpotMouseDownSpeedBooster)}),d.data("scrollableArea").mousewheel(function(a,e){if(d.data("enabled")&&c.mousewheelScrolling){a.preventDefault(),b.stopAutoScrolling();var f=Math.round(c.mousewheelScrollingStep*e);b.move(f)}}),c.mousewheelScrolling&&d.data("scrollingHotSpotLeft").add(d.data("scrollingHotSpotRight")).mousewheel(function(a,b){a.preventDefault()}),a(window).bind("resize",function(){b._showHideHotSpots(),b._trigger("windowResized")}),c.ajaxContentURL.length>0?b.changeContent(c.ajaxContentURL,"","html","replace"):b.recalculateScrollableArea();if(c.autoScrollingMode!=="always")switch(c.visibleHotSpotBackgrounds){case"always":b.showHotSpotBackgrounds();break;case"onstart":b.showHotSpotBackgrounds(),d.data("hideHotSpotBackgroundsInterval",setTimeout(function(){b.hideHotSpotBackgrounds("slow")},c.hotSpotsVisibleTime));break;default:}c.hiddenOnStart&&b.hide(),a(window).load(function(){c.hiddenOnStart||b.recalculateScrollableArea(),c.autoScrollingMode.length>0&&!c.hiddenOnStart&&b.startAutoScrolling()})},_setOption:function(a,b){var c=this,d=this.options,e=this.element;d[a]=b,a==="hotSpotScrolling"?b===!0?c._showHideHotSpots():(e.data("scrollingHotSpotLeft").hide(),e.data("scrollingHotSpotRight").hide()):a==="autoScrollingStep"||a==="easingAfterHotSpotScrollingDistance"||a==="easingAfterHotSpotScrollingDuration"||a==="easingAfterMouseWheelScrollingDuration"?d[a]=parseInt(b,10):a==="autoScrollingInterval"&&(d[a]=parseInt(b,10),c.startAutoScrolling())},showHotSpotBackgrounds:function(a){var b=this,c=this.element;a!==undefined?(c.data("scrollingHotSpotLeft").add(c.data("scrollingHotSpotRight")).css("opacity","0.0"),c.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible"),c.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible"),c.data("scrollingHotSpotLeft").add(c.data("scrollingHotSpotRight")).fadeTo(a,.35)):(c.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible"),c.data("scrollingHotSpotLeft").removeAttr("style"),c.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible"),c.data("scrollingHotSpotRight").removeAttr("style")),b._showHideHotSpots()},hideHotSpotBackgrounds:function(a){var b=this.element;a!==undefined?(b.data("scrollingHotSpotLeft").fadeTo(a,0,function(){b.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible")}),b.data("scrollingHotSpotRight").fadeTo(a,0,function(){b.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible")})):(b.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible").removeAttr("style"),b.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible").removeAttr("style"))},_showHideHotSpots:function(){var a=this,b=this.element,c=this.options;c.manualContinuousScrolling&&c.hotSpotScrolling?(b.data("scrollingHotSpotLeft").show(),b.data("scrollingHotSpotRight").show()):c.autoScrollingMode!=="always"&&c.hotSpotScrolling?b.data("scrollableAreaWidth")<=b.data("scrollWrapper").innerWidth()?(b.data("scrollingHotSpotLeft").hide(),b.data("scrollingHotSpotRight").hide()):b.data("scrollWrapper"
).scrollLeft()===0?(b.data("scrollingHotSpotLeft").hide(),b.data("scrollingHotSpotRight").show(),a._trigger("scrollerLeftLimitReached"),clearInterval(b.data("leftScrollingInterval")),b.data("leftScrollingInterval",null)):b.data("scrollableAreaWidth")<=b.data("scrollWrapper").innerWidth()+b.data("scrollWrapper").scrollLeft()?(b.data("scrollingHotSpotLeft").show(),b.data("scrollingHotSpotRight").hide(),a._trigger("scrollerRightLimitReached"),clearInterval(b.data("rightScrollingInterval")),b.data("rightScrollingInterval",null)):(b.data("scrollingHotSpotLeft").show(),b.data("scrollingHotSpotRight").show()):(b.data("scrollingHotSpotLeft").hide(),b.data("scrollingHotSpotRight").hide())},_setElementScrollPosition:function(b,c){var d=this,e=this.element,f=this.options,g=0;switch(b){case"first":return e.data("scrollXPos",0),!0;case"start":if(f.startAtElementId!==""&&e.data("scrollableArea").has("#"+f.startAtElementId))return g=a("#"+f.startAtElementId).position().left,e.data("scrollXPos",g),!0;return!1;case"last":return e.data("scrollXPos",e.data("scrollableAreaWidth")-e.data("scrollWrapper").innerWidth()),!0;case"number":if(!isNaN(c))return g=e.data("scrollableArea").children(f.countOnlyClass).eq(c-1).position().left,e.data("scrollXPos",g),!0;return!1;case"id":if(c.length>0&&e.data("scrollableArea").has("#"+c))return g=a("#"+c).position().left,e.data("scrollXPos",g),!0;return!1;default:return!1}},jumpToElement:function(a,b){var c=this,d=this.element;if(d.data("enabled")&&c._setElementScrollPosition(a,b)){d.data("scrollWrapper").scrollLeft(d.data("scrollXPos")),c._showHideHotSpots();switch(a){case"first":c._trigger("jumpedToFirstElement");break;case"start":c._trigger("jumpedToStartElement");break;case"last":c._trigger("jumpedToLastElement");break;case"number":c._trigger("jumpedToElementNumber",null,{elementNumber:b});break;case"id":c._trigger("jumpedToElementId",null,{elementId:b});break;default:}}},scrollToElement:function(a,b){var c=this,d=this.element,e=this.options,f=!1;d.data("enabled")&&c._setElementScrollPosition(a,b)&&(d.data("autoScrollingInterval")!==null&&(c.stopAutoScrolling(),f=!0),d.data("scrollWrapper").stop(!0,!1),d.data("scrollWrapper").animate({scrollLeft:d.data("scrollXPos")},{duration:e.scrollToAnimationDuration,easing:e.scrollToEasingFunction,complete:function(){f&&c.startAutoScrolling(),c._showHideHotSpots();switch(a){case"first":c._trigger("scrolledToFirstElement");break;case"start":c._trigger("scrolledToStartElement");break;case"last":c._trigger("scrolledToLastElement");break;case"number":c._trigger("scrolledToElementNumber",null,{elementNumber:b});break;case"id":c._trigger("scrolledToElementId",null,{elementId:b});break;default:}}}))},move:function(a){var b=this,c=this.element,d=this.options;c.data("scrollWrapper").stop(!0,!0);if(a<0&&c.data("scrollWrapper").scrollLeft()>0||a>0&&c.data("scrollableAreaWidth")>c.data("scrollWrapper").innerWidth()+c.data("scrollWrapper").scrollLeft())d.easingAfterMouseWheelScrolling?c.data("scrollWrapper").animate({scrollLeft:c.data("scrollWrapper").scrollLeft()+a},{duration:d.easingAfterMouseWheelScrollingDuration,easing:d.easingAfterMouseWheelFunction,complete:function(){b._showHideHotSpots(),d.manualContinuousScrolling&&(a>0?b._checkContinuousSwapRight():b._checkContinuousSwapLeft())}}):(c.data("scrollWrapper").scrollLeft(c.data("scrollWrapper").scrollLeft()+a),b._showHideHotSpots(),d.manualContinuousScrolling&&(a>0?b._checkContinuousSwapRight():b._checkContinuousSwapLeft()))},changeContent:function(b,c,d,e){var f=this,g=this.element;switch(c){case"flickrFeed":a.getJSON(b,function(b){function n(b,j){var k=b.media.m,r=k.replace("_m",c[j].letter),s=a("<img />").attr("src",r);s.load(function(){this.height<g.data("scrollableAreaHeight")?j+1<c.length?n(b,j+1):o(this):o(this);if(m===l){switch(d){case"add":e==="first"?g.data("scrollableArea").children(":first").before(h):g.data("scrollableArea").children(":last").after(h);break;default:g.data("scrollableArea").html(h)}g.data("initialAjaxContentLoaded")?f.recalculateScrollableArea():g.data("initialAjaxContentLoaded",!0),f._showHideHotSpots(),f._trigger("addedFlickrContent",null,{addedElementIds:i})}})}function o(b){var c=g.data("scrollableAreaHeight")/b.height,d=Math.round(b.width*c),e=a(b).attr("src").split("/"),f=e.length-1;e=e[f].split("."),a(b).attr("id",e[0]),a(b).css({height:g.data("scrollableAreaHeight"),width:d}),i.push(e[0]),h.push(b),m++}var c=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}],h=[],i=[],j=[],k,l=b.items.length,m=0;g.data("scrollableAreaHeight")<=75?k=0:g.data("scrollableAreaHeight")<=100?k=1:g.data("scrollableAreaHeight")<=240?k=2:g.data("scrollableAreaHeight")<=500?k=3:g.data("scrollableAreaHeight")<=640?k=4:k=5,a.each(b.items,function(a,b){n(b,k)})});break;default:a.get(b,function(a){switch(d){case"add":e==="first"?g.data("scrollableArea").children(":first").before(a):g.data("scrollableArea").children(":last").after(a);break;default:g.data("scrollableArea").html(a)}g.data("initialAjaxContentLoaded")?f.recalculateScrollableArea():g.data("initialAjaxContentLoaded",!0),f._showHideHotSpots(),f._trigger("addedHtmlContent")})}},recalculateScrollableArea:function(){var b=0,c=!1,d=this.options,e=this.element,f=this;e.data("scrollableArea").children(d.countOnlyClass).each(function(){d.startAtElementId.length>0&&a(this).attr("id")===d.startAtElementId&&(e.data("startingPosition",b),c=!0),b+=a(this).outerWidth(!0)}),c||e.data("startAtElementId",""),e.data("scrollableAreaWidth",b),e.data("scrollableArea").width(e.data("scrollableAreaWidth")),e.data("scrollWrapper").scrollLeft(e.data("startingPosition")),e.data("scrollXPos",e.data("startingPosition"))},stopAutoScrolling:function(){var a=this,b=this.element;b.data("autoScrollingInterval")!==null&&(clearInterval(b.data("autoScrollingInterval")),b.data("autoScrollingInterval",null),a._showHideHotSpots(),a._trigger("autoScrollingStopped"))},startAutoScrolling:function(){var a=this,b=this.element,c=this.options;b.data("enabled")&&(a._showHideHotSpots(),clearInterval(b.data("autoScrollingInterval")),b.data("autoScrollingInterval",null),a._trigger("autoScrollingStarted"),b.data("autoScrollingInterval",setInterval(function(){if(!b.data("visible")||b.data("scrollableAreaWidth")<=b.data("scrollWrapper").innerWidth())clearInterval(b.data("autoScrollingInterval")),b.data("autoScrollingInterval",null);else{b.data("previousScrollLeft",b.data("scrollWrapper").scrollLeft());switch(c.autoScrollingDirection){case"right":b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+c.autoScrollingStep),b.data("previousScrollLeft")===b.data("scrollWrapper").scrollLeft()&&(a._trigger("autoScrollingRightLimitReached"),clearInterval(b.data("autoScrollingInterval")),b.data("autoScrollingInterval",null),a._trigger("autoScrollingIntervalStopped"));break;case"left":b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()-c.autoScrollingStep),b.data("previousScrollLeft")===b.data("scrollWrapper").scrollLeft()&&(a._trigger("autoScrollingLeftLimitReached"),clearInterval(b.data("autoScrollingInterval")),b.data("autoScrollingInterval",null),a._trigger("autoScrollingIntervalStopped"));break;case"backandforth":b.data("pingPongDirection")==="right"?b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+c.autoScrollingStep):b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()-c.autoScrollingStep),b.data("previousScrollLeft")===b.data("scrollWrapper").scrollLeft()&&(b.data("pingPongDirection")==="right"?(b.data("pingPongDirection","left"),a._trigger("autoScrollingRightLimitReached")):(b.data("pingPongDirection","right"),a._trigger("autoScrollingLeftLimitReached")));break;case"endlessloopright":b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+c.autoScrollingStep),a._checkContinuousSwapRight();break;case"endlessloopleft":b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()-c.autoScrollingStep),a._checkContinuousSwapLeft();break;default:}}},c.autoScrollingInterval)))},_checkContinuousSwapRight:function(){var b=this,c=this.element,d=this.options;c.data("getNextElementWidth")&&(d.startAtElementId.length>0&&c.data("startAtElementHasNotPassed")?(c.data("swapAt",a("#"+d.startAtElementId).outerWidth(!0)),c.data("startAtElementHasNotPassed",!1)):c.data("swapAt",c.data("scrollableArea").children(":first").outerWidth(!0)),c.data("getNextElementWidth",!1));if(c.data("swapAt")<=c.data("scrollWrapper").scrollLeft()){c.data("swappedElement",c.data("scrollableArea").children(":first").detach()),c.data("scrollableArea").append(c.data("swappedElement"));var e=c.data("scrollWrapper").scrollLeft();c.data("scrollWrapper").scrollLeft(e-c.data("swappedElement").outerWidth(!0)),c.data("getNextElementWidth",!0)}},_checkContinuousSwapLeft:function(){var b=this,c=this.element,d=this.options;c.data("getNextElementWidth")&&(d.startAtElementId.length>0&&c.data("startAtElementHasNotPassed")?(c.data("swapAt",a("#"+d.startAtElementId).outerWidth(!0)),c.data("startAtElementHasNotPassed",!1)):c.data("swapAt",c.data("scrollableArea").children(":first").outerWidth(!0)),c.data("getNextElementWidth",!1)),c.data("scrollWrapper").scrollLeft()===0&&(c.data("swappedElement",c.data("scrollableArea").children(":last").detach()),c.data("scrollableArea").prepend(c.data("swappedElement")),c.data("scrollWrapper").scrollLeft(c.data("scrollWrapper").scrollLeft()+c.data("swappedElement").outerWidth(!0)),c.data("getNextElementWidth",!0))},restoreOriginalElements:function(){var a=this,b=this.element;b.data("scrollableArea").html(b.data("originalElements")),a.recalculateScrollableArea(),a.jumpToElement("first")},show:function(){var a=this.element;a.data("visible",!0),a.show()},hide:function(){var a=this.element;a.data("visible",!1),a.hide()},enable:function(){var a=this.element;a.data("enabled",!0)},disable:function(){var a=this,b=this.element;a.stopAutoScrolling(),clearInterval(b.data("rightScrollingInterval")),clearInterval(b.data("leftScrollingInterval")),clearInterval(b.data("hideHotSpotBackgroundsInterval")),b.data("enabled",!1)},destroy:function(){var b=this,c=this.element;b.stopAutoScrolling(),clearInterval(c.data("rightScrollingInterval")),clearInterval(c.data("leftScrollingInterval")),clearInterval(c.data("hideHotSpotBackgroundsInterval")),c.data("scrollingHotSpotRight").unbind("mouseover"),c.data("scrollingHotSpotRight").unbind("mouseout"),c.data("scrollingHotSpotRight").unbind("mousedown"),c.data("scrollingHotSpotLeft").unbind("mouseover"),c.data("scrollingHotSpotLeft").unbind("mouseout"),c.data("scrollingHotSpotLeft").unbind("mousedown"),c.data("scrollingHotSpotRight").remove(),c.data("scrollingHotSpotLeft").remove(),c.data("scrollableArea").remove(),c.data("scrollWrapper").remove(),c.html(c.data("originalElements")),a.Widget.prototype.destroy.apply(this,arguments)}})}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery);